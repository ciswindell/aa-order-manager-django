# =============================================================================
# AA Order Manager - Django Web Application
# Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control

# =============================================================================
# Django Configuration
# =============================================================================
DEBUG=True
SECRET_KEY=your-secret-key-here-change-in-production

# Comma-separated list of allowed hosts (use * for development only)
ALLOWED_HOSTS=localhost,127.0.0.1

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL connection string
DATABASE_URL=postgresql://postgres:postgres@db:5432/order_manager_dev

# Individual database settings (used by Docker Compose)
POSTGRES_DB=order_manager_dev
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# =============================================================================
# Celery Configuration (Background Tasks)
# =============================================================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# DO NOT set CELERY_TASK_ALWAYS_EAGER in Docker environment
# (This disables async task processing)

# =============================================================================
# Dropbox Integration
# =============================================================================
# OAuth credentials from https://www.dropbox.com/developers/apps
DROPBOX_APP_KEY=
DROPBOX_APP_SECRET=
DROPBOX_REDIRECT_URI=http://localhost:8000/integrations/dropbox/callback/

# Optional: Enable live probe for stale tokens (set to 1 to enable)
INTEGRATIONS_STATUS_LIVE_PROBE=

# =============================================================================
# Basecamp Integration
# =============================================================================
# OAuth credentials from https://launchpad.37signals.com/integrations
BASECAMP_CLIENT_ID=
BASECAMP_CLIENT_SECRET=
BASECAMP_REDIRECT_URI=http://localhost:8000/integrations/basecamp/callback/

# Basecamp project IDs for each product type
# Find these in your Basecamp URL: https://3.basecamp.com/<account_id>/buckets/<project_id>/
BASECAMP_PROJECT_FEDERAL_RUNSHEETS=
BASECAMP_PROJECT_FEDERAL_ABSTRACTS=
BASECAMP_PROJECT_STATE_RUNSHEETS=
BASECAMP_PROJECT_STATE_ABSTRACTS=

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins for CORS
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Frontend URL for redirects and callbacks
FRONTEND_URL=http://localhost:3000

# =============================================================================
# JWT Authentication
# =============================================================================
# JWT token expiration in minutes (default: 60 minutes)
JWT_ACCESS_TOKEN_LIFETIME_MINUTES=60

# JWT refresh token expiration in days (default: 7 days)
JWT_REFRESH_TOKEN_LIFETIME_DAYS=7

# Cookie settings for JWT tokens
JWT_COOKIE_SECURE=False  # Set to True in production (HTTPS only)
JWT_COOKIE_HTTPONLY=True
JWT_COOKIE_SAMESITE=Lax  # Lax for development, Strict for production

# =============================================================================
# Email Configuration (Optional)
# =============================================================================
# For sending email notifications (if configured)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend  # Console for dev
# EMAIL_HOST=smtp.example.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=
# EMAIL_HOST_PASSWORD=
# DEFAULT_FROM_EMAIL=noreply@example.com

# =============================================================================
# Logging Configuration (Optional)
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# =============================================================================
# Development/Testing Flags (Optional)
# =============================================================================
# Enable Django Debug Toolbar (requires installation)
# ENABLE_DEBUG_TOOLBAR=True

# Disable Dropbox SSL verification for local testing (NOT for production)
# DROPBOX_DISABLE_SSL_VERIFICATION=False
